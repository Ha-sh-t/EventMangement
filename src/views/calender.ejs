
<!DOCTYPE html>
<html>

<head>
    <title>Google Calendar API Quickstart</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css"
        href="https://cdn.jsdelivr.net/npm/evo-calendar@1.1.2/evo-calendar/css/evo-calendar.min.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" >
</head>

<body>

        <div id="calendar"></div>

<!-- Load jQuery first -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<!-- Load evo-calendar.js after jQuery -->
<script src="https://cdn.jsdelivr.net/npm/evo-calendar@1.1.2/evo-calendar/js/evo-calendar.min.js"></script>
<!-- Load Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    console.log("called")
    var allEvents = <%- jsonEvents %>;
    console.log(allEvents);
</script>
       <script > 
           console.log("called")
    var allEvents = <%- jsonEvents %>;
    console.log(allEvents);
 console.log("called2")
        $("#calendar").evoCalendar();
        if (Array.isArray(allEvents)) {
    // Map events and add them to the calendar
    var calendarEvents = allEvents.map(event => ({
        id: event.id,
        name: event.title,
        date: event.date,
        type: event.type,
        everyYear: false,
        color: "#FF5733"
    }));
    console.log(calendarEvents);

    // Add events to the calendar
    calendarEvents.forEach(event => {
        $("#calendar").evoCalendar('addCalendarEvent', [
            event
        ]);
    });

    $("#calendar").evoCalendar('addCalendarEvent', [
    {
      id: '1',
      name: "My Birthday",
      date: "2024-05-15",
      type: "birthday",
      everyYear: false
    }
  ]);
} else {
    console.error('No events data available');
}

    </script>

</body>

</html>